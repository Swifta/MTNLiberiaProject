<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
    <h:body>
        <p:growl rendered="true"/>
        <div id="canvas">
            <p:dialog header="New School Admin" widgetVar="admin" styleClass="elevens bolds" width="450" height="250" resizable="false" modal="true">
                <h:form>
                    <h:panelGrid styleClass="elevens" columns="2" style="width : 80%;margin: 0 auto">
                        <h:outputLabel value="Pick a school"/>
                        <h:selectOneMenu styleClass="elevens padded" value="#{schoolBean.admin.schoolID}">
                            <f:selectItem itemLabel="Select a school"/>
                            <f:selectItems value="#{portalAdminBean.schools}" var="school" itemLabel="#{school.name}" itemValue="#{school.id}"/> 
                        </h:selectOneMenu>
                        <h:outputLabel value="First Name : "/>
                        <h:inputText value="#{schoolBean.admin.firstName}" styleClass="elevens padded" size="35" required="true" requiredMessage="First Name required"/>
                        <h:outputLabel value="Last Name : "/>
                        <h:inputText value="#{schoolBean.admin.lastName}" styleClass="elevens padded" size="35" required="true" requiredMessage="Last Name required"/>
                        <h:outputLabel value="Mobile : "/>
                        <h:inputText value="#{schoolBean.admin.phoneNo}" styleClass="elevens padded" size="35" required="true" requiredMessage="Mobile required"/>
                        <h:outputLabel value="Email Address : "/>
                        <h:inputText value="#{schoolBean.admin.emailAddress}" styleClass="elevens padded" size="35" required="true" requiredMessage="Email Address required"/>
                        <h:outputLabel value=""/>
                        <h:commandButton value="Create Admin" styleClass="buttons elevens whites bolds padded" style="color : #fff;" action="#{schoolBean.createAdmin()}"/> 
                    </h:panelGrid>                    
                </h:form>
            </p:dialog>
            <div style="text-align: right;padding: 5px;" class="elevens">
                <h:form>
                    <p:commandButton value="Create School Admin" styleClass="elevens bolds" onclick="admin.show();"/>
                    <p:spacer width="20"/>
                    <p:commandButton value="Log Out" styleClass="elevens bolds" action="#{portalAdminBean.logOut()}" ajax="false"/>
                </h:form>
            </div>
                <br />
                <p:dataTable paginator="true" rows="20"  
                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                             rowsPerPageTemplate="5,10,15" styleClass="elevens datatables" value="#{portalAdminBean.admins}" var="admin">
                    <f:facet name="header">List of School Administrators</f:facet>
                    <p:column headerText="First Name" sortBy="#{admin.firstName}">
                        <h:outputLabel value="#{admin.firstName}"/>
                    </p:column>
                    <p:column headerText="Last Name" sortBy="#{admin.lastName}">
                        <h:outputLabel value="#{admin.lastName}"/>
                    </p:column>
                    <p:column headerText="Username" sortBy="#{admin.username}">
                        <h:outputLabel value="#{admin.username}"/>
                    </p:column>                    
                    <p:column headerText="Email Address" sortBy="#{admin.emailAddress}">
                        <h:outputLabel value="#{admin.emailAddress}"/>
                    </p:column>
                    <p:column headerText="Mobile" sortBy="#{admin.phoneNo}">
                        <h:outputLabel value="#{admin.phoneNo}"/>
                    </p:column>                    
                    <p:column headerText="Name of School" sortBy="#{admin.schoolName}">
                        <h:outputLabel value="#{admin.schoolName}"/>
                    </p:column>                    
                </p:dataTable>
        </div>
    </h:body>
</html>

